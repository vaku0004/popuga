<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Article Game: "the"</title>
  <style>
    body {
      margin: 0;
      padding: 15px;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #f0f0f0;
    }

    h1 {
      text-align: center;
    }

  #game {
  display: flex;
  justify-content: center;
  width: 100%;
  max-width: 800px;
  height: 500px;
  margin-top: 20px;
  border: 2px solid #333;
  background-color: white;
  position: relative;
  overflow: hidden;

  background-image: linear-gradient(rgba(255,255,255,0.7), rgba(255,255,255,0.7)), /* –±–µ–ª–∞—è –ø–µ–ª–µ–Ω–∞ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é */
    url("img/tug.png");  /* –∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ */
  background-size: cover;
  background-position: center;
}

@media (max-width: 768px) {
  #game {
    background: 
      linear-gradient(rgba(255,255,255,0.7), rgba(255,255,255,0.7)),
      url("img/tug _mob.png");
    background-size: cover;
    background-position: bottom;
  }
}

    .column {
      flex: 1;
      border-left: 1px solid #ccc;
      position: relative;
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      align-content: flex-end;
      justify-content: center;
      padding: 70px 5px 60px 5px;
      overflow-y: auto;
      font-size: clamp(10px, 1.2vw, 14px);
    }

    .column:first-child {
      border-left: none;
    }

    .label {
      text-align: center;
      font-weight: bold;
      background: #eee;
      padding: 5px;
      border-bottom: 1px solid #ccc;
      position: absolute;
      top: 0;
      width: 100%;
    }

    .drop-btn {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      margin-bottom: 5px;
      padding: 5px 10px;
      font-size: 14px;
      cursor: pointer;
      color: white;
      border: none;
      border-radius: 4px;
    }

    #withThe .drop-btn {
      background-color: #007BFF;
    }

    #withoutThe .drop-btn {
      background-color: #28A745;
    }

    .word {
      position: absolute;
      padding: 5px 10px;
      background-color: #add8e6;
      border-radius: 5px;
      z-index: 10;
      transition: top 0.3s;
      white-space: nowrap;
    }

    .word.correct, .word-stack.correct {
      background-color: #90ee90;
    }

    .word.incorrect, .word-stack.incorrect {
      background-color: #f08080;
    }

    #lives {
      margin-top: 10px;
      font-weight: bold;
    }

    .word-stack {
      position: static;
      margin: 3px;
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <h1>Article Game: "the"</h1>
  <div id="lives">Lives: 3</div>
  <div id="game">
    <div class="column" id="withThe">
      <div class="label">Needs "the"</div>
      <button class="drop-btn" onclick="chooseColumn('withThe')">Drop here</button>
    </div>
    <div class="column" id="withoutThe">
      <div class="label">No article</div>
      <button class="drop-btn" onclick="chooseColumn('withoutThe')">Drop here</button>
    </div>
  </div>

  <script>
    const columns = ["withThe", "withoutThe"];
    const wordList = [
      ...[
        "sun", "moon", "Earth", "sky",
        "Volga", "Nile", "Pacific Ocean", "Andes", "Sahara", "Philippines", "Arctic",
        "Alps", "United States", "Netherlands",
       "New York Times",
        "Washington Post", 
        "Wall Street Journal",
        "European Union", "BBC",
        "Louvre", "British Museum", "Globe Theatre",
        "rich", "elderly", "poor",
        "best", "first", "only", "Simpsons",
        "Smiths", "Romanovs",
        "Titanic",
        "University of Toronto", "London School of Economics",
        "Constitution", "Statue of Liberty",
        "Internet", "radio", "climate", "environment",
        "King's Arms pub", "Ritz hotel",
        "piano", "guitar",
        "Cold War", "Great Fire of London"
      ].map(w => ({ word: w, type: "withThe" })),
      ...[
        "Dr. Smith", "Canada", "France", "Japan", "Paris", "Toronto",
        "Oxford University", "York University",
        "Queen Street", "Fifth Avenue",
        "Union Station", "Bay Station",
        "English", "math", "history",
        "Monday", "July", "Christmas",
        "breakfast", "lunch", "dinner",
        "football", "tennis", "chess",
        "Google", "Apple", "Microsoft",
        "love", "life", "freedom", "money", "time",
        "coffee", "water", "bread", "gold",
        "iPhone 14 Pro", "Galaxy S24", "MacBook Air",
        "Lake Ontario", "Mount Everest", "Vancouver Island",
        "Alberta", "Europe", "Tokyo",
        "California", "Texas", "Neptune", "Pearson Airport", "Walmart", "Moscow Oblast"
      ].map(w => ({ word: w, type: "withoutThe" }))
    ];

    let words = [...wordList];
    let lives = 3;
    let currentWord = null;
    let currentWordElement = null;
    let currentColumn = null;

    function dropWord() {
      if (lives <= 0 || words.length === 0) return;
      const game = document.getElementById("game");
      const index = Math.floor(Math.random() * words.length);
      const wordData = words.splice(index, 1)[0];
      const randomColIndex = Math.floor(Math.random() * columns.length);
      currentColumn = columns[randomColIndex];

      const wordDiv = document.createElement("div");
      wordDiv.classList.add("word");
      wordDiv.textContent = wordData.word;
      wordDiv.style.left = `${randomColIndex * 50 + 15}%`;
      wordDiv.style.top = `0px`;
      game.appendChild(wordDiv);

      currentWord = wordData;
      currentWordElement = wordDiv;

      let topPos = 0;
      const fall = setInterval(() => {
        if (!currentWordElement) {
          clearInterval(fall);
          return;
        }
        topPos += 2;
        currentWordElement.style.top = `${topPos}px`;

        if (topPos >= 440) {
          clearInterval(fall);
          handleChoice(currentColumn, true);
        }
      }, 30);
    }

    function chooseColumn(colId) {
      if (!currentWord || !currentWordElement) return;
      handleChoice(colId, false);
    }

    function handleChoice(colId, autoFall) {
      const col = document.getElementById(colId);
      const correct = colId === currentWord.type;
      const wasCorrect = correct && !autoFall;

      currentWordElement.classList.add(wasCorrect ? "correct" : "incorrect");

      const stackWord = document.createElement("div");
      stackWord.className = `word-stack ${wasCorrect ? "correct" : "incorrect"}`;
      stackWord.textContent = currentWord.word;
      col.appendChild(stackWord);

      if (!wasCorrect) {
        lives--;
        document.getElementById("lives").textContent = `Lives: ${lives}`;
        if (lives === 0) showGameOver();
      }

      currentWordElement.remove();
      currentWord = null;
      currentWordElement = null;

      if (lives > 0) {
        if (words.length === 0) {
          setTimeout(showVictoryScreen, 800);
        } else {
          setTimeout(dropWord, 800);
        }
      }
    }

    function showGameOver() {
      const overlay = document.createElement("div");
      overlay.style.position = "fixed";
      overlay.style.top = 0;
      overlay.style.left = 0;
      overlay.style.width = "100vw";
      overlay.style.height = "100vh";
      overlay.style.background = "rgba(0, 0, 0, 0.6)";
      overlay.style.display = "flex";
      overlay.style.flexDirection = "column";
      overlay.style.alignItems = "center";
      overlay.style.justifyContent = "center";
      overlay.style.zIndex = 1000;

      const box = document.createElement("div");
      box.style.background = "white";
      box.style.padding = "30px";
      box.style.borderRadius = "8px";
      box.style.boxShadow = "0 0 10px rgba(0,0,0,0.3)";
      box.style.textAlign = "center";

      const message = document.createElement("p");
      message.textContent = "Game Over! Would you like to start a new game?";
      box.appendChild(message);

      const restartBtn = document.createElement("button");
      restartBtn.textContent = "Restart Game";
      restartBtn.style.padding = "10px 20px";
      restartBtn.style.fontSize = "16px";
      restartBtn.style.cursor = "pointer";
      restartBtn.style.marginTop = "15px";
      restartBtn.onclick = () => location.reload();
      box.appendChild(restartBtn);

      overlay.appendChild(box);
      document.body.appendChild(overlay);
    }

    function showVictoryScreen() {
      const overlay = document.createElement("div");
      overlay.style.position = "fixed";
      overlay.style.top = 0;
      overlay.style.left = 0;
      overlay.style.width = "100vw";
      overlay.style.height = "100vh";
      overlay.style.background = "rgba(0, 0, 0, 0.6)";
      overlay.style.display = "flex";
      overlay.style.flexDirection = "column";
      overlay.style.alignItems = "center";
      overlay.style.justifyContent = "center";
      overlay.style.zIndex = 1000;

      const box = document.createElement("div");
      box.style.background = "white";
      box.style.padding = "30px";
      box.style.borderRadius = "8px";
      box.style.boxShadow = "0 0 10px rgba(0,0,0,0.3)";
      box.style.textAlign = "center";

      const message = document.createElement("p");
      message.textContent = "üéâ Congratulations, you won!";
      box.appendChild(message);

      const restartBtn = document.createElement("button");
      restartBtn.textContent = "Restart Game";
      restartBtn.style.padding = "10px 20px";
      restartBtn.style.fontSize = "16px";
      restartBtn.style.margin = "10px";
      restartBtn.style.cursor = "pointer";
      restartBtn.onclick = () => location.reload();
      box.appendChild(restartBtn);

      const noBtn = document.createElement("button");
      noBtn.textContent = "No, thanks";
      noBtn.style.padding = "10px 20px";
      noBtn.style.fontSize = "16px";
      noBtn.style.margin = "10px";
      noBtn.style.cursor = "pointer";
      noBtn.onclick = () => {
        overlay.remove();
        const winMsg = document.createElement("p");
        winMsg.textContent = "Thanks for playing!";
        winMsg.style.color = "white";
        winMsg.style.fontSize = "24px";
        document.body.appendChild(winMsg);
      };
      box.appendChild(noBtn);

      overlay.appendChild(box);
      document.body.appendChild(overlay);
    }

    dropWord();
  </script>
    </script>
    <footer style="text-align:center; margin:24px 0; font-weight:700;">
    <a href="https://www.popuga.online/articles.html" 
       style="margin:0 16px; text-decoration:none; color:var(--fg);">
       üìñ Articles
    </a>
    <a href="https://www.popuga.online/game.html" 
       style="margin:0 16px; text-decoration:none; color:var(--fg);">
       üéÆ Verb Tetris
    </a>
  </footer>
</body>
</html>
